<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>مكتبة طمِني</title>
<link rel="stylesheet" href="assets/css/style_library.css" />
<style>
/* انسخ كل CSS من index.html الخاص بالـ navbar */
body { margin:0; font-family:Cairo,sans-serif; background-color:#F2F3F0; color:#333; }
.navbar { background-color:#7CAAA2; display:flex; justify-content:space-between; align-items:center; padding:12px 10%; box-shadow:0 2px 8px rgba(0,0,0,0.08); position:sticky; top:0; z-index:100; border-radius:0 0 16px 16px; }
.logo { font-size:1.6rem; font-weight:bold; color:#F9F9F9; }
.navbar ul { list-style:none; display:flex; gap:20px; margin:0; padding:0; align-items:center; }
.navbar li { position:relative; }
.navbar a { color:#fff; text-decoration:none; font-weight:500; padding:8px 14px; border-radius:8px; transition:0.3s ease; }
.navbar a:hover { background-color: rgba(255,255,255,0.15); }
.emergency-link { background-color:#4E6B68; color:#fff !important; font-weight:600; padding:8px 18px; border-radius:12px; box-shadow:0 4px 12px rgba(78,107,104,0.3); transition:0.3s ease, transform 0.2s ease; }
.emergency-link:hover { background-color:#90B7B0; transform:translateY(-2px); }
.accordion-menu { position:relative; }
.accordion-toggle { cursor:pointer; user-select:none; font-weight:600; }
.accordion-content { display:flex; flex-direction:column; position:absolute; top:100%; right:0; background-color:#F2F3F0; border-radius:16px; box-shadow:0 8px 20px rgba(0,0,0,0.1); overflow:hidden; max-height:0; opacity:0; transform:translateY(-10px); transition:max-height 0.4s ease, opacity 0.4s ease, transform 0.3s ease; z-index:99; width:220px; }
.accordion-content.show { max-height:1000px; opacity:1; transform:translateY(0); }
.accordion-content li { list-style:none; }
.accordion-content li a { padding:12px 18px; color:#2E3A3D; font-weight:500; text-decoration:none; border-bottom:1px solid rgba(0,0,0,0.08); transition:background 0.3s, padding-left 0.3s; }
.accordion-content li:last-child a { border-bottom:none; }
.accordion-content li a:hover { background-color:#E7F1EF; padding-left:28px; }
/* CSS المكتبة الخاصة */
</style>
</head>
<body>

<header class="navbar">
  <div class="logo">طمِني</div>
  <nav>
    <ul>
      <li><a href="index.html">الرئيسية</a></li>
      <li><a href="about.html">عنّا</a></li>
      <li class="accordion-menu">
        <span class="accordion-toggle">مميزاتنا ▼</span>
        <ul class="accordion-content">
          <li><a href="library.html">المكتبة</a></li>
          <li><a href="tests.html">الاختبارات</a></li>
          <li><a href="mood-tracker.html">متابعة المزاج</a></li>
          <li><a href="stories.html">قصص المراهقين</a></li>
          <li><a href="forum.html">المنتدى</a></li>
        </ul>
      </li>
      <li><a href="emergency.html" class="emergency-link">الطوارئ النفسية</a></li>
      <li><a href="chat.html">الشات بوت</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>مكتبة طمِني</h1>
  <p>مقالات وكتب مقسمة حسب الحالة.</p>
</main>

<script>
const toggles = document.querySelectorAll('.accordion-toggle');
toggles.forEach(toggle => {
  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    const content = toggle.nextElementSibling;
    document.querySelectorAll('.accordion-content').forEach(menu => {
      if(menu !== content) menu.classList.remove('show');
    });
    content.classList.toggle('show');
  });
});
document.addEventListener('click', () => {
  document.querySelectorAll('.accordion-content').forEach(menu => menu.classList.remove('show'));
});
</script>


<div class="library-filters">
<button data-filter="anxiety">قلق</button>
<button data-filter="depression">اكتئاب</button>
<button data-filter="selfcare">العناية بالنفس</button>
<button data-filter="relationships">علاقات</button>
</div>


<div id="libraryList" class="card-list"></div>
</main>


<script>
const sampleBooks = [
{title:'ازاي تواجه القلق', tag:'anxiety', desc:'مقال قصير عن خطوات عملية'} ,
{title:'العناية بالنفس للمراهقين', tag:'selfcare', desc:'روتين بسيط كل يوم'} ,
{title:'خرجت من الاكتئاب', tag:'depression', desc:'قصة قصيرة ومفيدة'}
];
function renderLibrary(filter){
const cont = document.getElementById('libraryList'); cont.innerHTML='';
sampleBooks.filter(b=>!filter||b.tag===filter).forEach(b=>{
const el = document.createElement('div'); el.className='card';
el.innerHTML=`<h3>${b.title}</h3><p>${b.desc}</p><a href='#'>اقرأ المزيد</a>`;
cont.appendChild(el);
})
}
document.addEventListener('DOMContentLoaded', ()=>{
renderLibrary();
document.querySelectorAll('.library-filters button').forEach(b=>b.addEventListener('click',()=>renderLibrary(b.dataset.filter)));
})
</script>
</body>
</html>